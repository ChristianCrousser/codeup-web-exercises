<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tetris Board</title>
    <style>

        canvas {
            border: solid black 1px;
        }

    </style>
</head>
<body>
<canvas width="320" height="640" id="game"></canvas>


<script>

    // get a random integer between the range of [min,max]
    function getRandomInt(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }


    function generateSequence() {
    sequence = ["I", "L", "J", "S", "Z", "O", "T"];

}






    // get the next tetromino in the sequence
    function getNextTetromino() {
        if (tetrominoSequence.length === 0) {
            generateSequence();
        }
        var name = tetrominoSequence.pop();
        var matrix = tetrominos[name];
        // I and O start centered, all others start in left-middle
        var col = playfield[0].length / 2 - Math.ceil(matrix[0].length / 2);
        // I starts on row 21 (-1), all others start on row 22 (-2)
        var row = name === 'I' ? -1 : -2;
        return {
            name: name,      // name of the piece (L, O, etc.)
            matrix: matrix,  // the current rotation matrix
            row: row,        // current row (starts offscreen)
            col: col         // current col
        };
    }







var canvas = document.getElementById('game');

var context = canvas.getContext("2d");

var tetrominoSequence = [];

var grid = 32;

var playfield = [];
// populate the empty state
for (var row = -2; row < 20; row++) {
    playfield[row] = [];
    for (var col = 0; col < 10; col++) {
        playfield[row][col] = 0;
    }
}
for (var row = 0; row < 20; row++) {
    for (var col = 0; col < 10; col++) {
        if (playfield[row][col]) {
            var name = playfield[row][col];
            context.fillStyle = colors[name];
        }
    }
}







// game loop
function loop() {
    rAF = requestAnimationFrame(loop);
    context.clearRect(0, 0, canvas.width, canvas.height);
    // draw the playfield
    for (var row = 0; row < 20; row++) {
        for (var col = 0; col < 10; col++) {
            if (playfield[row][col]) {
                var name = playfield[row][col];
                context.fillStyle = colors[name];
                // drawing 1 px smaller than the grid creates a grid effect
                context.fillRect(col * grid, row * grid, grid - 1, grid - 1);
            }
        }
    }
}






</script>
</body>
</html>